import requests
from bs4 import BeautifulSoup

def reconocimiento(self):
    new_window = tk.Toplevel(self.root)
    new_window.title("Reconocimiento")
    new_window.geometry("600x400")
    new_window.config(bg='#FFD700')
    
    label = tk.Label(new_window, text="Fase de Reconocimiento: Recopilación de información", font=("Arial", 14), bg='#FFD700', fg='#8B0000')
    label.pack(pady=20)

    info_label = tk.Label(new_window, text="Ingrese el dominio o IP objetivo:", bg='#FFD700', fg='#8B0000')
    info_label.pack(pady=5)
    
    target_entry = tk.Entry(new_window, width=50)
    target_entry.pack(pady=5)
    
    def start_recon():
        target = target_entry.get()
        url = f"http://{target}"
        try:
            response = requests.get(url)
            soup = BeautifulSoup(response.text, 'html.parser')
            title = soup.find('title').get_text()
            result = f"Información recopilada para {target}:\n- URL: {url}\n- Título de la página: {title}"
        except Exception as e:
            result = f"Error en la recopilación de información: {e}"
        result_label.config(text=result)
    
    start_button = tk.Button(new_window, text="Iniciar Reconocimiento", command=start_recon)
    start_button.pack(pady=10)
    
    result_label = tk.Label(new_window, text="", bg='#FFD700', fg='#8B0000')
    result_label.pack(pady=10)
