import nmap

def escaneo(self):
    new_window = tk.Toplevel(self.root)
    new_window.title("Escaneo")
    new_window.geometry("600x400")
    new_window.config(bg='#FFD700')
    
    label = tk.Label(new_window, text="Fase de Escaneo: Identificaci√≥n de puertos y servicios abiertos", font=("Arial", 14), bg='#FFD700', fg='#8B0000')
    label.pack(pady=20)
    
    info_label = tk.Label(new_window, text="Ingrese el dominio o IP objetivo:", bg='#FFD700', fg='#8B0000')
    info_label.pack(pady=5)
    
    target_entry = tk.Entry(new_window, width=50)
    target_entry.pack(pady=5)
    
    def start_scan():
        target = target_entry.get()
        nm = nmap.PortScanner()
        try:
            nm.scan(target, '1-1024')
            scan_info = nm.csv()
            result = f"Resultados del escaneo para {target}:\n{scan_info}"
        except Exception as e:
            result = f"Error en el escaneo: {e}"
        result_label.config(text=result)
    
    start_button = tk.Button(new_window, text="Iniciar Escaneo", command=start_scan)
    start_button.pack(pady=10)
    
    result_label = tk.Label(new_window, text="", bg='#FFD700', fg='#8B0000')
    result_label.pack(pady=10)
